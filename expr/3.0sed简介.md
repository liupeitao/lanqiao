#### sed 简介 -i 才修改源文件

2022年3月25日15:24:48

----

sed 是非交互式的编辑器。它不会修改文件，除非使用 shell 重定向来保存结果。默认情况下，所有的输出行都会被打印到屏幕上。

**sed 编辑器逐行处理文件（或输入），并将结果打印到屏幕上。**

具体C过程如下：首先 sed 把当前c正在处理的行保存在一个临时缓存区中（也称为模式空间），然后处理临时缓冲区中的行，完成后把该行发送到屏幕上。

sed 每处理完一行就将其从临时缓冲区删除，然后将下一行读入，进行处理和显示。处理完输入文件的最后一行后，sed 便结束运行。sed 把每一行都存在临时缓冲区中，对这个副本进行编辑，所以**直接使用不会修改原文件内容。**

```
LOAD(FILE)           把所有行读入缓冲区
WHILE(LINE!=EOF)     还有行
{
	deal(line)       处理
	line to nextline 下一行
}
```

如果要修改原文件，需要添加 `-i` 选项。

