字符的替换及撤销(Undo 操作)

2022年3月25日15:56:04

---



#### 替换和撤销(Undo)命令

替换和 Undo 命令都是针对普通模式下的操作：

| 命令             | 说明                                         |
| ---------------- | -------------------------------------------- |
| `r`+<待替换字母> | 将游标所在字母替换为指定字母                 |
| `R`              | 连续替换，直到按下 `Esc`                     |
| `cc`             | 替换整行，即删除游标所在行，并进入插入模式   |
| `cw`             | 替换一个单词，即删除一个单词，并进入插入模式 |
| `C`(大写)        | 替换游标以后至行末                           |
| `~`              | 反转游标所在字母大小写                       |
| `{n}u`           | 撤销一次或 n 次操作                          |
| `U`(大写)        | 撤销当前行的所有修改                         |
| `Ctrl+r`         | redo，即撤销 undo 的操作                     |

打开文件进行编辑：

```bash
vim practice_2
# 输入以下文本
www.shiyanlou.com
```

然后依次进行如下操作

- 输入 `fa` 跳转到第一个 `a` 字符
- 输入 `r` 并且输入 b，a 字符被 b 字符替换（实用）
- 输入 `R` 替换字符，输入新字符串，输入完按 ESC 回到普通模式（实用）
- 输入 `cc` 替换整行字符，输入新字符串，输入完按 ESC 回到普通模式
- 输入 `cw` 替换一个英文字(word)，输入完按 ESC 回到普通模式（实用）
- 输入 `~`，翻转游标所在字符的大小写
- 输入 `C` 替换至行尾，即游标所在处以后的字都会被替换，输入完按 ESC 回到普通模式
- 输入 `u` 撤销上一次的操作

![1](https://doc.shiyanlou.com/document-uid49570labid18timestamp1491032394591.png)

最后可以尝试下输入更多行的文本内容，并进行跳转到指定行的操作：

- 输入 `2G`，跳转到 2 行