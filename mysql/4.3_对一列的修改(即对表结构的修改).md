#### 4.3 对一列的修改(即对表结构的修改)

对表结构的修改，是本节实验的难点，有时候一些小的错误会造成不可挽回的后果，所以请细心操作。另外需要注意，非必要情况不要修改表结构。

#### 4.3.1 增加一列

在表中增加一列的语句格式为：

```sql
ALTER TABLE 表名字 ADD COLUMN 列名字 数据类型 约束;
或：
ALTER TABLE 表名字 ADD 列名字 数据类型 约束;
```

现在 employee 表中有 `id、name、age、salary、phone、in_dpt` 这 6 个列，我们尝试加入 `height` (身高)一个列并指定 DEFAULT 约束：

```mysql
ALTER TABLE employee ADD height INT(4) DEFAULT 170;
```

![05](https://doc.shiyanlou.com/MySQL/sql-05-05.png)

可以发现：新增加的列，被默认放置在这张表的最右边。如果要把增加的列插入在指定位置，则需要在语句的最后使用 AFTER 关键词(**“AFTER 列 1” 表示新增的列被放置在 “列 1” 的后面**)。

> ==提醒：语句中的 INT(4) 不是表示整数的字节数，而是表示该值的显示宽度，如果设置填充字符为 0，则 170 显示为 0170==

比如我们新增一列 `weight`(体重) 放置在 `age`(年龄) 的后面：

```mysql
ALTER TABLE employee ADD weight INT(4) DEFAULT 120 AFTER age;
```

![06](https://doc.shiyanlou.com/MySQL/sql-05-06.png)

上面的效果是把新增的列加在某位置的后面，如果想放在第一列的位置，则使用 `FIRST` 关键词，如语句：

```sql
ALTER TABLE employee ADD test INT(10) DEFAULT 11 FIRST;
```

效果如下：

![07](https://doc.shiyanlou.com/MySQL/sql-05-07.png)

#### 4.3.2 删除一列

删除表中的一列和刚才使用的新增一列的语句格式十分相似，只是把关键词 `ADD` 改为 `DROP` ，语句后面不需要有数据类型、约束或位置信息。具体语句格式：

```sql
ALTER TABLE 表名字 DROP COLUMN 列名字;

或： ALTER TABLE 表名字 DROP 列名字;
```

我们把刚才新增的 `test` 删除：

```sql
ALTER TABLE employee DROP test;
```

![08](https://doc.shiyanlou.com/MySQL/sql-05-08.png)

#### 4.3.3 重命名一列

这条语句其实不只可用于重命名一列，准确地说，它是对一个列做修改(CHANGE) ：

```sql
ALTER TABLE 表名字 CHANGE 原列名 新列名 数据类型 约束;
```

> **注意：这条重命名语句后面的 “数据类型” 不能省略，否则重命名失败。**

当**原列名**和**新列名**相同的时候，指定新的**数据类型**或**约束**，就可以用于修改数据类型或约束。需要注意的是，修改数据类型可能会导致数据丢失，所以要慎重使用。

我们用这条语句将 “height” 一列重命名为汉语拼音 “shengao” ，效果如下：

```mysql
ALTER TABLE employee CHANGE height shengao INT(4) DEFAULT 170;
```

![09](https://doc.shiyanlou.com/MySQL/sql-05-09.png)

#### 4.3.4 改变数据类型

😊要修改一列的数据类型，除了使用刚才的 **CHANGE** 语句外，还可以用这样的 **MODIFY** 语句：

```sql
ALTER TABLE 表名字 MODIFY 列名字 新数据类型;
```

再次提醒，修改数据类型必须小心，因为这可能会导致数据丢失。在尝试修改数据类型之前，请慎重考虑。